<app-layout-principal>
  <main class="container p-4">
    <div class="d-flex justify-content-center">
      <div class="col-lg-8 col-md-10 col-sm-12">
        <div class="card-body p-5" *ngIf="pedido">
          <div class="row card-title">
            <h2 class="mb-4" style="color: #13426e">
              <i class="bi bi-cart-check"></i> Detalhes do Pedido
            </h2>
          </div>

          <div class="row codigo-pedido mt-4 mb-4">
            <h5 class="text-muted-bold">Código do pedido:</h5>
            <p class="font-weight">{{ pedido.id }}</p>
          </div>

          <div class="row endereco-resumo mt-4 mb-4">
            <h5 class="text-muted-bold">Endereço de Entrega:</h5>
            <p class="font-weight">
              {{ endereco.logradouro }}, {{ endereco.numero }} -
              {{ endereco.bairro }}, {{ endereco.cidade }}/{{ endereco.uf }}
            </p>
            <p><strong>CEP:</strong> {{ endereco.cep }}</p>
          </div>

          <div class="row forma-pagamento mt-4 mb-4">
            <h5 class="text-muted-bold">Forma de Pagamento:</h5>
            <p class="font-weight">{{ formaPagamento.metodoPagamento }}</p>
          </div>

          <div class="row pedido-itens mt-4 mb-4">
            <h5 class="text-muted-bold">Itens do Pedido</h5>
            <div class="container items p-2 overflow-auto">
              <div
                *ngFor="let item of pedido.itemsPedido"
                class="produto-item py-3 border-bottom"
              >
                <div class="d-flex justify-content-between">
                  <div>
                    <p class="mb-1 font-weight-bold">{{ item.produto.nome }}</p>
                    <p class="mb-1 text-muted">Qtd: {{ item.qtdProdutos }}</p>
                  </div>
                  <div class="text-right">
                    <p class="mb-1">
                      <strong>Unitário:</strong>
                      {{ item.valorUnitario | currency : "BRL" : "symbol" }}
                    </p>
                    <p>
                      <strong>Total:</strong>
                      {{
                        item.valorUnitario * item.qtdProdutos
                          | currency : "BRL" : "symbol"
                      }}
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row resumo-preco mt-4">
            <div class="d-flex justify-content-between">
              <span class="font-weight-semibold">Subtotal:</span>
              <strong>{{
                pedido.subTotal | currency : "BRL" : "symbol"
              }}</strong>
            </div>
            <div class="d-flex justify-content-between">
              <span class="font-weight-semibold">Frete:</span>
              <strong>{{ pedido.frete | currency : "BRL" : "symbol" }}</strong>
            </div>
            <div class="d-flex justify-content-between mt-3">
              <h5 class="font-weight-bold">Total:</h5>
              <h5 class="font-weight-bold">
                {{ pedido.total | currency : "BRL" : "symbol" }}
              </h5>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</app-layout-principal>
